<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
    <title>Makhmudov developer</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <form id="loginForm" class="login-form" autocomplete="off">
            <h2 class="developer-name">Makhmudov SARDOR</h2>
            <h1 class="title">Xush Kelibsiz</h1>
            <p class="subtitle">Tizimga kirish uchun ma'lumotlaringizni kiriting</p>

            <div class="input-group">
                <div class="input-wrapper">
                    <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <input type="text" id="username" name="username" required placeholder="Foydalanuvchi nomi"
                        autocomplete="off" maxlength="50">
                </div>
            </div>

            <div class="input-group">
                <div class="input-wrapper">
                    <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input type="password" id="password" name="password" required placeholder="Parol" autocomplete="off"
                        maxlength="100">
                    <button type="button" class="toggle-password" id="togglePassword">
                        <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="error-message" id="errorMessage"></div>

            <button type="submit" class="submit-btn" id="submitBtn">
                <span class="btn-text">Kirish</span>
                <div class="loader"></div>
            </button>

            <div class="footer-links">
                <p>Akkauntingiz yo'qmi? <a href="register.html" class="link">Ro'yxatdan o'tish</a></p>
                <p><button
                        onclick="localStorage.clear();sessionStorage.clear();alert('Tizim tiklandi!');location.reload();"
                        style="background:none;border:none;color:#667eea;cursor:pointer;text-decoration:underline;font-size:14px;">ðŸ”„
                        Tizimni Tiklash</button></p>
            </div>
        </form>
    </div>

    <link rel="stylesheet" href="protection-light.css">
    <script src="protection-light.js"></script>
    <script src="tracker.js"></script>
    <script>
        // Oddiy login (inline)
        const loginForm = document.getElementById('loginForm');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const errorMessage = document.getElementById('errorMessage');
        const submitBtn = document.getElementById('submitBtn');

        function showError(msg) {
            errorMessage.textContent = msg;
        }

        loginForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const username = usernameInput.value.trim();
            const password = passwordInput.value;

            const validUsers = {
                'Sardor': 'Sardor_developer',
                'admin': 'admin123'
            };

            if (validUsers[username] && validUsers[username] === password) {
                localStorage.setItem('currentUser', JSON.stringify({ username, id: Date.now() }));
                window.location.href = '/dashboard.html';
            } else {
                showError('Noto\'g\'ri ma\'lumotlar');
                passwordInput.value = '';
            }
        });

        // Parolni ko'rsatish
        const toggleBtn = document.getElementById('togglePassword');
        if (toggleBtn) {
            toggleBtn.addEventListener('click', function (e) {
                e.preventDefault();
                const type = passwordInput.type === 'password' ? 'text' : 'password';
                passwordInput.type = type;
            });
        }

        // Console tozalashni o'chirish
        if (window.console && window.console.clear) {
            const originalClear = console.clear;
            console.clear = function () {
                // Console tozalashni bloklash
            };
        }
    </script>
</body>

</html>